<%- include('../partials/header', { title: 'Asignar Permiso a Rol' }) %>

<div class="content-wrapper">
  <div class="container-xxl flex-grow-1 container-p-y">
    <div class="app-rol">
      <form action="/roles-asignar/<%= rol.id %>" method="POST">
        <div
          class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-6 row-gap-4"
        >
          <div class="d-flex flex-column justify-content-center">
            <h4 class="mb-1">Asignar Permiso a Rol</h4>
            <p class="mb-0">Selecciona el permiso que deseas asignar al rol.</p>
          </div>
          <div class="d-flex align-content-center flex-wrap gap-4">
            <a href="/roles" class="btn btn-label-secondary">Regresar</a>
            <button type="submit" class="btn btn-primary">
              Guardar Cambios
            </button>
          </div>
        </div>

        <% if (success_msg) { %>
        <div class="alert alert-success"><%= success_msg %></div>
        <% } %> <% if (error) { %>
        <div class="alert alert-danger"><%= error %></div>
        <% } %>

        <div class="row">
          <div class="col-12">
            <div class="card mb-6">
              <div class="card-header">
                <h5 class="card-title mb-0">Detalles del Rol</h5>
              </div>
              <div class="card-body">
                <p><strong>Nombre del Rol:</strong> <%= rol.nombre %></p>

                <div class="mb-4">
                  <label for="permisoEncodedId" class="form-label"
                    >Seleccionar Permiso:</label
                  >
                  <select
                    id="permisoEncodedId"
                    name="permisoEncodedId"
                    class="select2 form-select"
                    required
                  >
                    <option value="">Selecciona un permiso</option>
                    <% permisos.forEach(permiso => { %>
                    <option value="<%= permiso.id %>">
                      <%= permiso.nombre %>
                    </option>
                    <% }); %>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
