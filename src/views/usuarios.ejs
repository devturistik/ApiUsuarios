<%- include('partials/header', { title: 'Usuarios' }) %>
<div class="content-wrapper">
    <!-- Content -->

    <div class="container-xxl flex-grow-1 container-p-y">
      <!-- Product List Widget -->
      <div class="card mb-6">
        <div class="card-widget-separator-wrapper">
          <div class="card-body card-widget-separator">
            <div class="row gy-4 gy-sm-1">
              <div class="col-sm-6 col-lg-4">
                <div class="d-flex justify-content-between align-items-start card-widget-1 border-end pb-4 pb-sm-0">
                  <div>
                    <p class="mb-1">Total Usuarios</p>
                    <h4 id="total-users" class="mb-1">0</h4>
                    <p class="mb-0"><span class="me-2">Cargados desde API</span></p>
                  </div>
                  <span class="avatar me-sm-6">
                    <span class="avatar-initial rounded"><i class="ti-28px ti ti-users text-heading"></i></span>
                  </span>
                </div>
                <hr class="d-none d-sm-block d-lg-none me-6" />
              </div>
              <div class="col-sm-6 col-lg-4">
                <div class="d-flex justify-content-between align-items-start card-widget-2 border-end pb-4 pb-sm-0">
                  <div>
                    <p class="mb-1">Usuarios Activos</p>
                    <h4 id="active-users" class="mb-1">0</h4>
                    <p class="mb-0"><span class="me-2">Cargados desde API</span></p>
                  </div>
                  <span class="avatar p-2 me-lg-6">
                    <span class="avatar-initial rounded"><i class="ti-28px ti ti-user-check text-heading"></i></span>
                  </span>
                </div>
                <hr class="d-none d-sm-block d-lg-none" />
              </div>
              <div class="col-sm-6 col-lg-4">
                <div class="d-flex justify-content-between align-items-start">
                  <div>
                    <p class="mb-1">Usuarios Inactivos</p>
                    <h4 id="inactive-users" class="mb-1">0</h4>
                    <p class="mb-0"><span class="me-2">Cargados desde API</span></p>
                  </div>
                  <span class="avatar p-2">
                    <span class="avatar-initial rounded"><i class="ti-28px ti ti-user-x text-heading"></i></span>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      

      <!-- Product List Table -->
      <div class="card">
        <div class="card-header">
          <h5 class="card-title">Listado de Usuarios</h5>
          <!-- <div class="d-flex justify-content-between align-items-center row pt-4 gap-6 gap-md-0">
            <div class="col-md-4" id="filter-activo-container"></div>
            <div class="col-md-4" id="filter-depto-container"></div>
          </div> -->
        </div>
        
        <div class="card-datatable table-responsive">
          <table class="datatables-products table">
            <thead class="border-top">
              <tr>
                <th>id</th>
                <th>id</th> 
                <th>nombre</th>
                <th>apellido</th>
                <th>depto</th>
                <th>correo</th>
                <th>activo</th>
                <th>actions</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- / Content -->
   
   <%- include('partials/footer-text')%>
    <!-- / Footer -->

    <div class="content-backdrop fade"></div>
  </div>
<%- include('partials/footer') %>

<script src="../../assets/js/app-turistik-usuarios-list.js"></script>
<script>
  function encodeId(id) {
    return btoa(id); // Codificación en Base64
  }

  function viewProduct(uuid) {
    const id = encodeId(uuid);
    window.location.href = '/usuario-ver/' + id; // Redirige usando el UUID
  }

  function editProduct(uuid) {
    console.log('aquui');
    const id = encodeId(uuid);
    window.location.href = '/usuario-editar/' + id;
  }

  function suspendProduct(uuid, element) {
    if (confirm('¿Estás seguro de que quieres suspender este producto?')) {
      console.log('Producto suspendido:', uuid);
      // Aquí puedes agregar la lógica AJAX para suspender el producto
      dt_products.row($(element).parents('tr')).remove().draw(); // Actualiza la tabla
    }
  }
</script>

</body>
</html>